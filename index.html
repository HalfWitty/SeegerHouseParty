<!DOCTYPE html>
<html>
<head>
    <title>Super Bowl Party RSVP</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
	    font-size: 12px
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .hero-image {
            width: 100%;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        form {
            background-color: #222;
            padding: 20px;
            border-radius: 8px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
        }
        
        input[type="text"],
        input[type="email"],
        select,
        textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: #333;
            color: white;
            box-sizing: border-box;
        }
        
        button {
            background-color: #0066cc;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        
        button:hover {
            background-color: #0052a3;
        }

        .success-screen {
            display: none;
            text-align: center;
            padding: 40px;
            background-color: #222;
            border-radius: 8px;
        }
        
        .bonus-image {
            max-width: 100%;
            margin-top: 20px;
            border-radius: 8px;
        }
        
        .error-message {
            color: #ff4444;
            margin-top: 10px;
            display: none;
            padding: 10px;
            background-color: rgba(255, 0, 0, 0.1);
            border-radius: 4px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        #playMusic {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            width: auto !important;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <audio id="backgroundMusic" loop>
            <source src="NFLtheme.wav" type="audio/wav">
        </audio>
        
        <img src="Superbowl LX.jpg" alt="Super Bowl LX Party" class="hero-image">
        
        <form id="rsvpForm">
            <div class="form-group">
                <label for="name">Name *</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="email">Email *</label>
                <input type="email" id="email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="Winner">Who will win?</label>
                <select id="Winner" name="Winner">
                    <option value="Patriots">Patriots</option>
                    <option value="Seahawks">Seahawks</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Overtime">Will the game go to overtime?</label>
                <select id="Overtime" name="Overtime">
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="JerseyNumber">Jersey Number of first TD scorer?</label>
                <select id="JerseyNumber" name="PlayerPass">
                    <option value="Over 10.5">Over 10.5</option>
                    <option value="Under 10.5">Under 10.5</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="CoinToss">Will the coin toss result in heads or tails?</label>
                <select id="CoinToss" name="CoinToss">
                    <option value="Heads">Heads</option>
                    <option value="Tails">Tails</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="gatorade">What color will the gatorade bath be?</label>
                <select id="gatorade" name="gatorade">
                    <option value="Yellow">Yellow</option>
                    <option value="Red">Red</option>
                    <option value="Orange">Orange</option>
                    <option value="Clear">Clear</option>
                    <option value="Blue">Blue</option>
                    <option value="Purple">Purple</option>
                    <option value="Green">Green</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="CharliePuth">What will the dominant color of Charlie Puth's outfit be during the anthem?</label>
                <select id="batiste" name="batiste">
                    <option value="Red">Red</option>
                    <option value="Black">Black</option>
                    <option value="White">White</option>
                    <option value="Blue">Blue</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="PassingYards">Who will have more passing yards?</label>
                <select id="PassingYards" name="PassingYards">
                    <option value="Sam Darnold">Sam Darnold</option>
                    <option value="Drake Maye">Drake Maye</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="anthem">Will the National Anthem be over or under 119.5 seconds</label>
                <select id="anthem" name="anthem">
                    <option value="Over">Over 119.5</option>
                    <option value="Under">Under 119.5</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="BadBunnyFit">What will the dominant color of Bad Bunny's starting outfit for the halftime show be?</label>
                <select id="BadBunnyFit" name="BadBunnyFit">
                    <option value="Red">Red</option>
                    <option value="Black">Black</option>
                    <option value="White">White</option>
                    <option value="Blue">Blue</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="BadBunnySong">What will the first song Bad Bunny plays be?</label>
                <select id="BadBunnySong" name="BadBunnySong">
                    <option value="Titi Me Pregunto">Titi Me Pregunto</option>
                    <option value="BAILE INoLVIDABLE">BAILE INoLVIDABLE</option>
                    <option value="MONACO">MONACO</option>
                    <option value="ALAMBRE PuA">ALAMBRE PuA</option>
                    <option value="LA MuDANZA">La MuDANZA</option>
		    <option value="NUEVAYoL">NUEVAYoL</option>
		    <option value="Chambea">Chambea</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="FirstTD">Who will score the first touchdown?</label>
                <select id="FirstTD" name="FirstTD">
                    <option value="Kenneth Walker III">Kenneth Walker III</option>
                    <option value="Jaxon Smith-Njigba">Jaxon Smith-Njigba</option>
                    <option value="Rhamondre Stevenson">Rhamondre Stevenson</option>
                    <option value="Hunter Henry">Hunter Henry</option>
                    <option value="A.J. Barner">A.J. Barner</option>
                    <option value="Stefon Diggs">Stefon Diggs</option>
                    <option value="Cooper Kupp">Cooper Kupp</option>
                    <option value="Drake Maye">Drake Maye</option>
                    <option value="Kayshon Boutte">Kayshon Boutte</option>
                    <option value="Rashid Shaheed">Rashid Shaheed</option>
                    <option value="Mack Hollins">Mack Hollins</option>
                    <option value="TreVeyon Henderson">TreVeyon Henderson</option>
                    <option value="George Holani">George Holani</option>
                    <option value="Other Patriots Player">Other Patriots Player</option>
                    <option value="Other Seahawks Player">Other Seahawks Player</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Comm1">Which commercial plays first?</label>
                <select id="Comm1" name="Comm1">
                    <option value="Hellman's">Hellman's</option>
                    <option value="Frank's">Frank's</option>
                    <option value="Lay's">Lay's</option>
                    <option value="Dunkin'">Dunkin'</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Comm2">Which commercial plays first?</label>
                <select id="Comm2" name="Comm2">
                    <option value="Budweiser">Budweiser</option>
                    <option value="Liquid I.V.">Liquid I.V.</option>
                    <option value="Liquid Death">Liquid Death</option>
                    <option value="Michelob">Michelob</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Comm3">Which commercial plays first?</label>
                <select id="Comm3" name="Comm3">
                    <option value="Xfinity">Xfinity</option>
                    <option value="Squarespace">Squarespace</option>
                    <option value="Uber Eats">Uber Eats</option>
                    <option value="Instacart">Instacart</option>
                    <option value="Grubhub">Grubhub</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Comm4">Which commercial plays first?</label>
                <select id="Comm4" name="Comm4">
                    <option value="ro">ro</option>
                    <option value="Hims & Hers">Hims & Hers</option>
                    <option value="Manscaped">Manscaped</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="Comm5">Which commercial plays first?</label>
                <select id="Comm5" name="Comm5">
                    <option value="Pepsi">Pepsi</option>
                    <option value="Kelloggs">Kelloggs</option>
                    <option value="Skittles">Skittles</option>
                    <option value="Nerds">Nerds</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="PrizeDonation">Do you plan to bring a prize to donate to the pool and/or food(prizes generally run $5-$30)?</label>
                <select id="PrizeDonation" name="PrizeDonation">
                    <option value="Food">Food</option>
                    <option value="Prize">Prize</option>
                    <option value="Both">Both</option>
                    <option value="None">None</option>
                </select>
            </div>
            
            <div class="loading" id="loadingMessage">
                Submitting your entry...
            </div>
            <p id="emailError" class="error-message">This email has already been used to RSVP.</p>
            <button type="submit" id="submitButton">Submit RSVP</button>
        </form>
        
        <div id="successScreen" class="success-screen">
            <h2>Thank You for entering!</h2>
            <img id="bonusImage" class="bonus-image" src="" alt="Bonus Image" style="display: none;">
        </div>
    </div>

    <script>
        // Audio handling - trigger on name field focus
        const music = document.getElementById('backgroundMusic');
        const nameField = document.getElementById('name');
        let hasPlayedMusic = false;

        nameField.addEventListener('focus', function() {
            if (!hasPlayedMusic) {
                music.play().catch(function(error) {
                    console.log("Audio playback failed:", error);
                });
                hasPlayedMusic = true;
            }
        });

        // Form submission
        document.getElementById('rsvpForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const loadingMessage = document.getElementById('loadingMessage');
            const submitButton = document.getElementById('submitButton');
            const emailError = document.getElementById('emailError');
            const form = document.getElementById('rsvpForm');
            
            // Reset error state
            emailError.style.display = 'none';
            
            // Show loading state
            loadingMessage.style.display = 'block';
            submitButton.disabled = true;
            
            try {
                // Get all form data
                const formData = new FormData(this);
                const formProps = Object.fromEntries(formData);
                
                // Generate random number 1-4
                const randomNum = Math.floor(Math.random() * 4) + 1;
                
                // Add bonus result
                const bonusResult = (randomNum === 2 || randomNum === 3) ? '2 Tickets' : 'No Bonus';
                formProps.bonusNumber = randomNum;
                formProps.bonusResult = bonusResult;

                // Submit to Google Apps Script
                await fetch('https://script.google.com/macros/s/AKfycbwXsg-5vW2_89zyLUQhBSengSB-FUBJivMZdSgReQ83SuTaG2botkPshltorQiGJPKo2A/exec', {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'text/plain',
                    },
                    body: JSON.stringify(formProps)
                });

                // Hide form and show success screen
                form.style.display = 'none';
                const successScreen = document.getElementById('successScreen');
                const bonusImage = document.getElementById('bonusImage');
                
                // Show appropriate bonus image
                bonusImage.src = `Bonus-0${randomNum}.png`;
                bonusImage.style.display = 'block';
                successScreen.style.display = 'block';
                
            } catch (error) {
                console.error('Submission error:', error);
                alert('There was an error submitting the form. Please try again.');
            } finally {
                loadingMessage.style.display = 'none';
                submitButton.disabled = false;
            }
        });
    </script>
</body>

</html>
